<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>狂妄的人有救,自卑的人没有救,认识自身,降伏自身,改变自身。</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="狂妄的人有救,自卑的人没有救,认识自身,降伏自身,改变自身。">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="狂妄的人有救,自卑的人没有救,认识自身,降伏自身,改变自身。">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Mr Zhang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="狂妄的人有救,自卑的人没有救,认识自身,降伏自身,改变自身。" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">狂妄的人有救,自卑的人没有救,认识自身,降伏自身,改变自身。</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="postst-学习promise" class="article article-type-postst" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/%E5%AD%A6%E4%B9%A0promise/" class="article-date">
  <time datetime="2020-04-28T07:14:14.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/%E5%AD%A6%E4%B9%A0promise/">学习promise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Promise-的含义-（此含义摘自阮一峰前辈教程）"><a href="#Promise-的含义-（此含义摘自阮一峰前辈教程）" class="headerlink" title="Promise 的含义 （此含义摘自阮一峰前辈教程）"></a>Promise 的含义 （此含义摘自阮一峰前辈教程）</h2><p>Promise 是异步编程的一种解决方案，比传统的解决方案——回调函数和事件——更合理和更强大。它由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了<code>Promise</code>对象。</p>
<p>所谓<code>Promise</code>，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理。</p>
<p><code>Promise</code>对象有以下两个特点。</p>
<p>（1）对象的状态不受外界影响。<code>Promise</code>对象代表一个异步操作，有三种状态：<code>pending</code>（进行中）、<code>fulfilled</code>（已成功）和<code>rejected</code>（已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是<code>Promise</code>这个名字的由来，它的英语意思就是“承诺”，表示其他手段无法改变。</p>
<p>（2）一旦状态改变，就不会再变，任何时候都可以得到这个结果。<code>Promise</code>对象的状态改变，只有两种可能：从<code>pending</code>变为<code>fulfilled</code>和从<code>pending</code>变为<code>rejected</code>。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果，这时就称为 resolved（已定型）。如果改变已经发生了，你再对<code>Promise</code>对象添加回调函数，也会立即得到这个结果。这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。</p>
<p>注意，为了行文方便，本章后面的<code>resolved</code>统一只指<code>fulfilled</code>状态，不包含<code>rejected</code>状态。</p>
<p>有了<code>Promise</code>对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外，<code>Promise</code>对象提供统一的接口，使得控制异步操作更加容易。</p>
<p><code>Promise</code>也有一些缺点。首先，无法取消<code>Promise</code>，一旦新建它就会立即执行，无法中途取消。其次，如果不设置回调函数，<code>Promise</code>内部抛出的错误，不会反应到外部。第三，当处于<code>pending</code>状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。</p>
<p>如果某些事件不断地反复发生，一般来说，使用 <a href="https://nodejs.org/api/stream.html" target="_blank" rel="noopener">Stream</a> 模式是比部署<code>Promise</code>更好的选择。</p>
<h5 id="promise封装ajax的基本使用"><a href="#promise封装ajax的基本使用" class="headerlink" title="promise封装ajax的基本使用"></a>promise封装ajax的基本使用</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//讲对象序列化成字符串</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">queryString</span>(<span class="params">param</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> parameters=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(param ==&#123;&#125;)&#123;</span><br><span class="line">        <span class="keyword">return</span> parameters;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(item <span class="keyword">of</span> <span class="built_in">Object</span>.keys(param))&#123; 		</span><br><span class="line">        parameters+=item+<span class="string">"="</span>+param[item]+<span class="string">"&amp;"</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> parameters.substr(<span class="number">0</span>,parameters.length<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//封装ajax</span></span><br><span class="line"><span class="keyword">const</span> getJson =<span class="function"><span class="keyword">function</span>(<span class="params">method,url,async,param</span>)</span>&#123;</span><br><span class="line">	method = method.toUpperCase();</span><br><span class="line">    param = queryString(param);</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> xhr;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">            xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(method==<span class="string">"GET"</span>)&#123;</span><br><span class="line">        	xhr.open(method,url+<span class="string">"?"</span>+param,<span class="keyword">async</span>);</span><br><span class="line">            xhr.send();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            xhr.open(method,url,<span class="keyword">async</span>);</span><br><span class="line">            xhr.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line">            xhr.send(param);</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>.status == <span class="number">200</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        resolve(<span class="keyword">this</span>.responseText,<span class="keyword">this</span>);</span><br><span class="line">                    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">                      	reject(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    reject(&#123;<span class="attr">code</span>:<span class="keyword">this</span>.status,<span class="attr">response</span>:<span class="keyword">this</span>.response&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line">getJson(<span class="string">"post"</span>,<span class="string">'URl'</span>,<span class="literal">true</span>,&#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">text</span>:<span class="string">"ddd"</span>&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/%E5%AD%A6%E4%B9%A0promise/" data-id="ckng1sct1000hu4ux26ru3ubv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-原生ajax记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/%E5%8E%9F%E7%94%9Fajax%E8%AE%B0%E5%BD%95/" class="article-date">
  <time datetime="2020-04-28T06:37:28.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/%E5%8E%9F%E7%94%9Fajax%E8%AE%B0%E5%BD%95/">原生ajax复习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>ajax干啥的？</strong></p>
<p>​    AJAX 是一种用于创建快速动态网页的技术。ajax全称：Asynchronous Javascript and XML(异步的Jascript和XML)，通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p>
<p>传统的网页（不使用 AJAX）如果需要更新内容，必需重载整个网页面。</p>
<p><strong>五个步骤</strong></p>
<h5 id="get方式"><a href="#get方式" class="headerlink" title="get方式"></a>get方式</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr;</span><br><span class="line"><span class="comment">//第一步LHttpRequest异步对象</span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">    xhr = <span class="keyword">new</span> XMLHtttpRequest();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//第二步设置请求方式和请求地址xhr.open(method,url,async)</span></span><br><span class="line">xhr.open(<span class="string">"get"</span>,<span class="string">"demo_get2.asp?fname=Bill&amp;lname=Gates"</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//第三步用send发送请求</span></span><br><span class="line">xhr.send();</span><br><span class="line"><span class="comment">//第四步监听状态变化</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">window</span>.console.log(xhr.responseText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//第五步 接收返回的数据</span></span><br></pre></td></tr></table></figure>

<h5 id="post方式"><a href="#post方式" class="headerlink" title="post方式"></a>post方式</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr;</span><br><span class="line"><span class="keyword">if</span>(windwo.XMLHttpRequest)&#123;</span><br><span class="line">	xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xhr.open(<span class="string">"post"</span>,ajxa_test.asp,<span class="literal">true</span>);</span><br><span class="line">xhr.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line">xhr.send(<span class="string">"fname=Bill&amp;lname=Gates"</span>);</span><br><span class="line"></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>)&#123;</span><br><span class="line">		<span class="built_in">window</span>.console.log(xhr.responseText);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/%E5%8E%9F%E7%94%9Fajax%E8%AE%B0%E5%BD%95/" data-id="ckng1sct0000gu4uxgp1bbmqk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-自学编程注意点" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/%E8%87%AA%E5%AD%A6%E7%BC%96%E7%A8%8B%E6%B3%A8%E6%84%8F%E7%82%B9/" class="article-date">
  <time datetime="2020-04-28T06:24:44.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/%E8%87%AA%E5%AD%A6%E7%BC%96%E7%A8%8B%E6%B3%A8%E6%84%8F%E7%82%B9/">自学编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="以java为例"><a href="#以java为例" class="headerlink" title="以java为例"></a>以java为例</h2><p>第一个误区：忽略基础**</p>
<p>自学编程，基础知识和一个清晰的学习路线太重要了，唯有把基础打得牢，你才能更好掌握更高级的语法。就像盖房子，基地你都打不好，你怎么能盖更多的楼层呢，同一个道理的。就拿Java来举例，比如<strong>Java语法、面向对象、枚举、反射、异常、IO流、多线程、集合、设计模式</strong>等这些基础，一定要好好打基础。只有这样你后面学习Spring框架或别的框架时候，你就不会感到恐惧了，这些框架的底层都是用一些设计模式及反射机制等一些基础知识，总之基础很重要。</p>
<p>所谓的基础部分包括：<strong>计算机系统与Linux、计算机网络、常见的设计模式、数据结构与算法、数据库、Java基础与新的特性、集合</strong>。还有难一点的<strong>JVM内存模型、垃圾回收、多线程、并发</strong>等这些部分，如果你都好好掌握了，接下来的学习任何框架基本都不用惧怕了。</p>
<p><strong>第二误区：学了忘记，从来不写笔记</strong></p>
<p>古人说“好记性不如烂笔头”学会做笔记真的太重要了，很多IT大佬基本没有哪一个没有做笔记的。做笔记，学会总结及收集各种遇到过的bug，我觉得成长是最快。</p>
<p><strong>总结：不管学习任何语言，第一要把基础知识学好，代码一定要多敲、多练习、多实战、多总结、多学习他人的经验。</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/%E8%87%AA%E5%AD%A6%E7%BC%96%E7%A8%8B%E6%B3%A8%E6%84%8F%E7%82%B9/" data-id="ckng1sct3000ku4ux8fhnf1fk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue生命周期" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="article-date">
  <time datetime="2020-04-28T06:05:38.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/">vue生命周期</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="VUE-的生命周期"><a href="#VUE-的生命周期" class="headerlink" title="VUE 的生命周期"></a>VUE 的生命周期</h3><ul>
<li>vue 生命周期流程图(图片来自网络，侵联删)</li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714f36c365bf78f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<ol>
<li>创建实例，<code>new Vue()</code> 的过程中，首先执行 <code>init()</code></li>
<li><code>init()</code> 过程首先是执行 <code>beforeCreate</code> ，初始化<code>data、 props、 watch、computed</code>,这些执行都是在 <code>beforeCreate</code> 阶段和 <code>create</code> 阶段，也是创建响应式数据的阶段，这个阶段不要去修改数据</li>
<li><code>create</code> 阶段结束，会去判断实例中有无 <code>el option</code> 选项，如果没有会执行 <code>$mount()</code>, 如果有，直接执行下一步</li>
<li>判断 <code>template</code>, 若有，会把 <code>template</code> 打成一个个 <code>render function</code> ,其中的传参h就是<code>vue.createElement</code>， 参数为 标签，对象(可以是props或事件)，内容</li>
<li><code>render</code>函数发生在 <code>beforemounted</code> 和 <code>mounted</code> 之间，所以当 <code>beforeMount</code> 时，<code>$el</code> 还只是HTML上的节点，<code>mounted</code> 时才把渲染的内容挂载到 <code>DOM</code> 上，实际就是执行了 <code>renderfunction</code></li>
<li><code>beforeMount</code> 有了 <code>renderfunction</code> 才执行，执行完执行 <code>mount</code> , <code>mounted</code> 执行完，整个生命周期中主动执行的函数就已经完毕，剩下的比如 <code>beforeUpdata、updata、beforDestory、destory</code> 需要外部触发</li>
</ol>
<h3 id="VUE-computed原理"><a href="#VUE-computed原理" class="headerlink" title="VUE computed原理"></a>VUE computed原理</h3><ul>
<li>设置 <code>computed</code> 的 <code>getter</code> ，若执行了 <code>computed</code> 的函数，会去读取 <code>data</code> 值，就会触发 <code>data</code> 的 <code>getter</code> ，从而建立<code>data</code>的依赖关系</li>
<li>首次<code>mounted</code>的值，会执行<code>vm.computed</code>对应的<code>getter</code>，没有<code>getter</code>的是赋值函数</li>
<li>若<code>computed</code>的属性值依赖其他属性值，会将<code>target</code>暂存在栈中，先进行其他的依赖收集</li>
</ul>
<h3 id="VUE-watch流程"><a href="#VUE-watch流程" class="headerlink" title="VUE watch流程"></a>VUE watch流程</h3><ol>
<li><p>创建实例时会去处理<code>watch</code>，这点在前面生命周期中已经提到</p>
</li>
<li><p>遍历数据keys去创建监听</p>
</li>
<li><p>给监听注册回调(多种处理方式)</p>
<ul>
<li><code>name:{ handle(){} }</code> 传入为对象去handler字段</li>
<li><code>name(){}</code> 传入为函数直接监听回调</li>
<li><code>name: &#39;getName&#39;</code> 传入为字符串就去实例上获取回调</li>
</ul>
</li>
<li><p>调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.$watch</span><br></pre></td></tr></table></figure>

<ul>
<li>判断是否立即执行回调</li>
<li>每个<code>watch</code>配发<code>watcher(监听的key，callback，options)</code></li>
</ul>
</li>
<li><p>监听的数据变化时，通知<code>watch-watcher</code>更新，然后使用<code>updata()</code>更新数据</p>
</li>
</ol>
<h3 id="VUE-响应式数据处理流程"><a href="#VUE-响应式数据处理流程" class="headerlink" title="VUE 响应式数据处理流程"></a>VUE 响应式数据处理流程</h3><ol>
<li><code>init()</code>时，利用<code>object.defineproperty</code>监听vue实例的响应式数据变化从而实现数据的劫持，其实是利用了数据的<code>setter</code>和<code>getter</code></li>
<li>当<code>render function</code>被渲染时，读取实例中与视图相关的响应式数据，从而触发<code>getter</code>进行依赖收集</li>
<li>正常的渲染和更新</li>
<li>数据变化时，触发<code>setter</code>，通知依赖收集中和视图相关的<code>watcher</code>，告知重新渲染视图，<code>watcher</code>再次通过<code>updata</code>渲染视图</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" data-id="ckng1scse0009u4uxcjl33xab" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-this的指向问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/this%E7%9A%84%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2020-04-28T06:04:03.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/this%E7%9A%84%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/">this的指向问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="this-的指向问题"><a href="#this-的指向问题" class="headerlink" title="this 的指向问题"></a>this 的指向问题</h3><ul>
<li>记住一点：this最终指向调用它的对象<ul>
<li>通俗解释：JS中存在上下文环境window或者函数，当执行的属于window时，则取的window的上下文环境，如果执行的属于函数，则取函数的上下文，this是堆栈的指针，堆栈里有什么就返回什么</li>
</ul>
</li>
<li>具体分析<ul>
<li>如果是一般函数,this指向全局对象window</li>
<li>在严格模式下”use strict”,为undefined</li>
<li>对象的方法里调用,this指向调用该方法的对象</li>
<li>构造函数里的this,指向创建出来的实例</li>
<li>() =&gt; console.log(this) 里面 this 跟外面的 this 的值一模一样</li>
<li>事件监听的时候，this是监听元素，setTimeout的函数内this是window(非严格模式下)</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 测试题</span><br><span class="line">var app &#x3D; &#123;</span><br><span class="line">  fn1: function () &#123;</span><br><span class="line">    console.log(this)</span><br><span class="line">  &#125;,</span><br><span class="line">  fn2: function()&#123;</span><br><span class="line">    return function() &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  fn3: function() &#123;</span><br><span class="line">    function fn() &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;</span><br><span class="line">    return fn()</span><br><span class="line">  &#125;,</span><br><span class="line">  fn4: function() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      fn: function () &#123;</span><br><span class="line">        console.log(this)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  fn5: function() &#123;</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;,10) </span><br><span class="line">  &#125;,</span><br><span class="line">  fn6: function() &#123;</span><br><span class="line">    setTimeout( () &#x3D;&gt; &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;,20) </span><br><span class="line">  &#125;,</span><br><span class="line">  fn7: function() &#123;</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;.bind(this),30) </span><br><span class="line">  &#125;,</span><br><span class="line">  fn8: () &#x3D;&gt; &#123;</span><br><span class="line">    setTimeout( () &#x3D;&gt; &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;,40) </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">app.fn1() &#x2F;&#x2F; app</span><br><span class="line">app.fn2()() &#x2F;&#x2F; window</span><br><span class="line">app.fn3() &#x2F;&#x2F; window</span><br><span class="line">app.fn4().fn() &#x2F;&#x2F; fn</span><br><span class="line">app.fn5() &#x2F;&#x2F; window</span><br><span class="line">app.fn6() &#x2F;&#x2F; app</span><br><span class="line">app.fn7() &#x2F;&#x2F; app</span><br><span class="line">app.fn8() &#x2F;&#x2F; window</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/this%E7%9A%84%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/" data-id="ckng1scs90004u4ux1jqhem14" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js闭包" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/js%E9%97%AD%E5%8C%85/" class="article-date">
  <time datetime="2020-04-28T06:02:52.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/js%E9%97%AD%E5%8C%85/">js闭包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="闭包的原理和优劣以及使用"><a href="#闭包的原理和优劣以及使用" class="headerlink" title="闭包的原理和优劣以及使用"></a>闭包的原理和优劣以及使用</h3><h5 id="闭包产生的原因"><a href="#闭包产生的原因" class="headerlink" title="闭包产生的原因"></a>闭包产生的原因</h5><ul>
<li>JS中存在全局作用域和函数作用域，当访问一个变量时，解释器会首先在当前作用域查找，如果没有找到，就去父作用域找，直到找到该变量或者不在父作用域中(也是作用域链的概念)</li>
<li>作用域中的每个子函数都会拷贝上级的作用域，形成一个完整的作用域链条</li>
<li>当前作用域中的变量存在着指向父级作用域的引用，便产生了闭包，下面用一段代码说明</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; JS的变量逐级查找</span><br><span class="line">var a &#x3D; 1;</span><br><span class="line">function f1() &#123;</span><br><span class="line">	&#x2F;&#x2F; f1() 的作用域指向全局作用域(window)和它本身</span><br><span class="line">	var a &#x3D; 2</span><br><span class="line">	function f2() &#123;</span><br><span class="line">		&#x2F;&#x2F; f2的作用域指向全局作用域(window)、f1的作用域和它本身</span><br><span class="line">		var a &#x3D; 3;</span><br><span class="line">		console.log(a);&#x2F;&#x2F;3</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; fun会拿到父级作用域中的变量，输出2。</span><br><span class="line">&#x2F;&#x2F; 因为在当前环境中，含有对f2的引用 ,f2恰恰引用了window、f1和f2的作用域, 因此f2可以访问到f1的作用域的变量</span><br><span class="line">function f1() &#123;</span><br><span class="line">	var a &#x3D; 2</span><br><span class="line">	function f2() &#123;</span><br><span class="line">		console.log(a); &#x2F;&#x2F; 2</span><br><span class="line">	&#125;</span><br><span class="line">	return f2;</span><br><span class="line">&#125;</span><br><span class="line">var fun &#x3D; f1();</span><br><span class="line">fun();</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h5 id="闭包的表现形式"><a href="#闭包的表现形式" class="headerlink" title="闭包的表现形式"></a>闭包的表现形式</h5><ul>
<li>返回一个函数</li>
<li>作为函数参数传递</li>
<li>在定时器、事件监听、Ajax请求、跨窗口通信、Web Workers或者任何异步中，只要使用了回调函数，实际上就是在使用闭包</li>
<li>立即执行函数表达式<ul>
<li>保存了全局作用域和当前作用域，实际也是闭包</li>
</ul>
</li>
</ul>
<h5 id="闭包的优劣"><a href="#闭包的优劣" class="headerlink" title="闭包的优劣"></a>闭包的优劣</h5><ul>
<li>优点<ul>
<li>可以读取函数内部的变量</li>
<li>可以让这些局部变量保存在内存中，实现变量数据共享。</li>
</ul>
</li>
<li>缺点<ul>
<li>由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题</li>
<li>闭包会在父函数外部，改变父函数内部变量的值。</li>
</ul>
</li>
</ul>
<h5 id="闭包的使用"><a href="#闭包的使用" class="headerlink" title="闭包的使用"></a>闭包的使用</h5><ul>
<li>匿名自执行函数，因为外部无法引用其内部的变量，使用完会立即释放</li>
<li>进行结果缓存</li>
<li>进行封装工厂函数</li>
<li>实现类的继承</li>
<li>函数柯里化</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/js%E9%97%AD%E5%8C%85/" data-id="ckng1scs50001u4uxbctpa031" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js继承" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/js%E7%BB%A7%E6%89%BF/" class="article-date">
  <time datetime="2020-04-28T05:59:57.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/js%E7%BB%A7%E6%89%BF/">js继承</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="继承的方式有哪些"><a href="#继承的方式有哪些" class="headerlink" title="继承的方式有哪些"></a>继承的方式有哪些</h3><p>提供个父类进行继承</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function SuperType(name) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.sexy &#x3D; [&quot;man&quot;, &quot;woman&quot;, &quot;unknow&quot;];</span><br><span class="line">    this.showName &#x3D; function() &#123;</span><br><span class="line">        console.log(name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">SuperType.prototype.age &#x3D; 18;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h5 id="原型继承"><a href="#原型继承" class="headerlink" title="原型继承"></a>原型继承</h5><ul>
<li>利用原型让一个引用类型继承另外一个引用类型的属性和方法</li>
<li>重点：新实例的原型等于父类的实例</li>
<li>特点：<ul>
<li>1.实例可继承的属性有：实例的构造函数的属性，父类构造函数属性，父类原型的属性。（新实例不会继承父类实例的属性！）</li>
<li>2.基于原型链，既是父类的实例，也是子类的实例</li>
</ul>
</li>
<li>缺点：<ul>
<li>1.无法实现多继承</li>
<li>2.所有新实例都会共享父类实例的属性</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function SubType() &#123;</span><br><span class="line">    this.name &#x3D; &#39;coder&#39;;</span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype &#x3D; new SuperType();</span><br><span class="line">var subFun &#x3D; new SubType();</span><br><span class="line">console.log(subFun.age) &#x2F;&#x2F; 18</span><br><span class="line">console.log(&#39;outer&#39;, subFun instanceof SuperType) &#x2F;&#x2F; true </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h5 id="构造函数继承"><a href="#构造函数继承" class="headerlink" title="构造函数继承"></a>构造函数继承</h5><ul>
<li>重点：用call()和apply()将父类构造函数引入子类函数（在子类函数中做了父类函数的自执行（复制））</li>
<li>特点：<ul>
<li>1、只继承了父类构造函数的属性，没有继承父类原型的属性。</li>
<li>2、解决了原型链继承缺点1、2、3。</li>
<li>3、可以继承多个构造函数属性（call多个）。</li>
<li>4、在子实例中可向父实例传参。</li>
</ul>
</li>
<li>缺点：<ul>
<li>1、只能继承父类构造函数的属性。</li>
<li>2、无法实现构造函数的复用。（每次用每次都要重新调用）</li>
<li>3、每个新实例都有父类构造函数的副本，臃肿。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function SubType() &#123;</span><br><span class="line">    SuperType.call(this);</span><br><span class="line">&#125;</span><br><span class="line">let instance1 &#x3D; new SubType();</span><br><span class="line">instance1.sexy.push(&quot;all&quot;);</span><br><span class="line">console.log(instance1.sexy); &#x2F;&#x2F; [&quot;man&quot;, &quot;woman&quot;, &quot;unknow&quot;, &quot;all&quot;]</span><br><span class="line">let instance2 &#x3D; new SubType();</span><br><span class="line">console.log(instance2.sexy); &#x2F;&#x2F; [&quot;man&quot;, &quot;woman&quot;, &quot;unknow&quot;]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h5 id="组合继承"><a href="#组合继承" class="headerlink" title="组合继承"></a>组合继承</h5><ul>
<li>特点：利用原型链继承父类的原型属性和方法，利用构造函数继承实例属性和方法</li>
<li>缺点：调用了两次父类构造函数，生成了俩实例</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function SubType(name) &#123;</span><br><span class="line">    SuperType.call(this, name);</span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype &#x3D; new SuperType();</span><br><span class="line">var instance3 &#x3D; new SubType(&quot;newCoder&quot;);</span><br><span class="line">console.log(instance3.name) &#x2F;&#x2F; newcoder</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h5 id="使用-ES6-extends-进行继承"><a href="#使用-ES6-extends-进行继承" class="headerlink" title="使用 ES6 extends 进行继承"></a>使用 ES6 extends 进行继承</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class A &#123;</span><br><span class="line">    constructor(name, age) &#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    getName() &#123;</span><br><span class="line">        return this.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class B extends A &#123;</span><br><span class="line">    constructor(name, age) &#123;</span><br><span class="line">        super(name, age);</span><br><span class="line">        this.job &#x3D; &quot;IT&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    getJob() &#123;</span><br><span class="line">        return this.job;</span><br><span class="line">    &#125;</span><br><span class="line">    getNameAndJob() &#123;</span><br><span class="line">        return super.getName() + this.job;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var b &#x3D; new B(&quot;Tom&quot;, 20);</span><br><span class="line">console.log(b.name); &#x2F;&#x2F; Tom</span><br><span class="line">console.log(b.age); &#x2F;&#x2F; 20</span><br><span class="line">console.log(b.getName()); &#x2F;&#x2F; Tom</span><br><span class="line">console.log(b.getJob()); &#x2F;&#x2F; IT</span><br><span class="line">console.log(b.getNameAndJob()); &#x2F;&#x2F; TomIT</span><br></pre></td></tr></table></figure>

<h3 id="new-的原理"><a href="#new-的原理" class="headerlink" title="new 的原理"></a>new 的原理</h3><ul>
<li>在调用 new 的过程中会发生以下四件事：<ul>
<li>新生成一个对象</li>
<li>将构造函数的作用域赋值给新对象（即绑定新对象的 this）</li>
<li>执行构造函数中的代码（即为这个新对象添加属性）</li>
<li>返回新对象</li>
</ul>
</li>
<li>一个简版的new</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function _new() &#123;</span><br><span class="line">	&#x2F;&#x2F; 创建一个新对象</span><br><span class="line">    let newObj &#x3D; &#123;&#125;;  </span><br><span class="line">    &#x2F;&#x2F; 获取构造函数</span><br><span class="line">    let Constructor &#x3D; Array.prototype.shift.call(arguments);</span><br><span class="line">    &#x2F;&#x2F; 连接新对象原型，新对象可以访问原型中的属性</span><br><span class="line">    newObj.__proto__ &#x3D; Constructor.prototype;</span><br><span class="line">    &#x2F;&#x2F; 执行构造函数，即绑定 this，并且为这个新对象添加属性</span><br><span class="line">    Constructor.apply(newObj, arguments);</span><br><span class="line">    &#x2F;&#x2F; 返回该对象</span><br><span class="line">    return newObj;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="ES6-extends-的原理"><a href="#ES6-extends-的原理" class="headerlink" title="ES6 extends 的原理"></a>ES6 extends 的原理</h3><ul>
<li>ES6 中是通过 class 关键字去定义类，经过 bable 编码之后其实还是通过构造函数去实现的，但是为了规范类的使用，ES6中是不允许直接调用 class 创建的类，因为编码之后会产生一个 <code>_classCallCheck</code> 阻止你直接调用，会抛出错误</li>
<li>继承过程其实归根结底也是类似原型继承，过程请看下图</li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714f366bb3420fc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>首先 <code>subClass.prototype.__proto__ = superClass.prototype</code> 保证了 <code>Child</code> 的实例可以访问到父类的属性，包括内部属性，以及原型属性。其次，<code>subClass.__proto__ = superClass</code>，保证了<code>Child.height</code> 也能访问到，也就是静态方法。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/js%E7%BB%A7%E6%89%BF/" data-id="ckng1scs80003u4ux20ax8yqi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-跨域" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/%E8%B7%A8%E5%9F%9F/" class="article-date">
  <time datetime="2020-04-28T03:27:45.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/%E8%B7%A8%E5%9F%9F/">跨域</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="需要跨域的根本原因–同源策略"><a href="#需要跨域的根本原因–同源策略" class="headerlink" title="需要跨域的根本原因–同源策略"></a>需要跨域的根本原因–同源策略</h2><h3 id="同源策略的-MDN-详细概念"><a href="#同源策略的-MDN-详细概念" class="headerlink" title="同源策略的 MDN 详细概念"></a>同源策略的 MDN 详细概念</h3><ul>
<li>详情请点击<a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener">官方文档</a>查看，这里不再赘述</li>
<li>同源策略仅存在于浏览器端，服务器端不存在同源策略</li>
</ul>
<h3 id="同源策略简述"><a href="#同源策略简述" class="headerlink" title="同源策略简述"></a>同源策略简述</h3><ul>
<li>限制了从同一个源加载的文档或脚本如何与来自另一个源的资源进行交互</li>
<li>是基于安全的角度进行的限制</li>
</ul>
<h3 id="同源策略造成的结果"><a href="#同源策略造成的结果" class="headerlink" title="同源策略造成的结果"></a>同源策略造成的结果</h3><ul>
<li>js脚本只能访问或者请求相同协议，相同domain(网址/ip)，相同端口的页面</li>
</ul>
<h3 id="不受同源策略影响的部分"><a href="#不受同源策略影响的部分" class="headerlink" title="不受同源策略影响的部分"></a>不受同源策略影响的部分</h3><ul>
<li>script 标签 、css样式表、图片资源文件</li>
</ul>
<h2 id="一、jsonp实现跨域请求"><a href="#一、jsonp实现跨域请求" class="headerlink" title="一、jsonp实现跨域请求"></a>一、jsonp实现跨域请求</h2><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><ul>
<li>利用 `` 标签可以链接到不同源的 <code>js</code> 脚本，从而达到跨域目</li>
</ul>
<h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><ul>
<li>利用 `` 标签的特性，将数据使用 <code>json</code> 格式用一个函数包裹起来</li>
<li>在进行访问的页面中定义一个相同函数名的函数，因为 `` 标签src引用的js脚本到达浏览器时会执行，而我们有定义了一个同名的函数，所以json格式的数据，就做为参数传递给了我们定义的同名函数了</li>
</ul>
<h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><ul>
<li><code>script、link、img</code> 标签引入外部资源，都是get请求，那么就决定了jsonp跨域传输一定是get请求</li>
</ul>
<h3 id="简单版的JSONP跨域请求"><a href="#简单版的JSONP跨域请求" class="headerlink" title="简单版的JSONP跨域请求"></a>简单版的JSONP跨域请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;script type&#x3D;&#39;text&#x2F;javascript&#39;&gt;</span><br><span class="line">      &#x2F;&#x2F; 后端返回直接执行的方法，相当于执行这个方法，</span><br><span class="line">      &#x2F;&#x2F; 由于后端把返回的数据放在方法的参数里，所以这里能拿到res。</span><br><span class="line">      window.jsonpCb &#x3D; function (res) &#123;</span><br><span class="line">        console.log(res)</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&#39;http:&#x2F;&#x2F;www.xxx.com&#x2F;api&#x2F;jsonp?msg&#x3D;helloJsonp&amp;cb&#x3D;jsonpCb&#39; type&#x3D;&#39;text&#x2F;javascript&#39;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="封装一套JSONP请求工具"><a href="#封装一套JSONP请求工具" class="headerlink" title="封装一套JSONP请求工具"></a>封装一套JSONP请求工具</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * JSONP请求工具</span><br><span class="line"> * @param url 请求的地址</span><br><span class="line"> * @param data 请求的参数</span><br><span class="line"> * @returns &#123;Promise&lt;any&gt;&#125;</span><br><span class="line"> *&#x2F;</span><br><span class="line">const request &#x3D; (&#123;url, data&#125;) &#x3D;&gt; &#123;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 处理传参成xx&#x3D;yy&amp;aa&#x3D;bb的形式</span><br><span class="line">    const handleData &#x3D; (data) &#x3D;&gt; &#123;</span><br><span class="line">      const keys &#x3D; Object.keys(data)</span><br><span class="line">      const keysLen &#x3D; keys.length</span><br><span class="line">      return keys.reduce((pre, cur, index) &#x3D;&gt; &#123;</span><br><span class="line">        const value &#x3D; data[cur]</span><br><span class="line">        const flag &#x3D; index !&#x3D;&#x3D; keysLen - 1 ? &#39;&amp;&#39; : &#39;&#39;</span><br><span class="line">        return &#96;$&#123;pre&#125;$&#123;cur&#125;&#x3D;$&#123;value&#125;$&#123;flag&#125;&#96;</span><br><span class="line">      &#125;, &#39;&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 动态创建script标签</span><br><span class="line">    const script &#x3D; document.createElement(&#39;script&#39;)</span><br><span class="line">    &#x2F;&#x2F; 接口返回的数据获取</span><br><span class="line">    window.jsonpCb &#x3D; (res) &#x3D;&gt; &#123;</span><br><span class="line">      document.body.removeChild(script)</span><br><span class="line">      delete window.jsonpCb</span><br><span class="line">      resolve(res)</span><br><span class="line">    &#125;</span><br><span class="line">    script.src &#x3D; &#96;$&#123;url&#125;?$&#123;handleData(data)&#125;&amp;cb&#x3D;jsonpCb&#96;</span><br><span class="line">    document.body.appendChild(script)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 使用方式</span><br><span class="line">request(&#123;</span><br><span class="line">  url: &#39;http:&#x2F;&#x2F;www.xxx.com&#x2F;api&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    &#x2F;&#x2F; 传参</span><br><span class="line">    msg: &#39;xxxxxx&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">  console.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="二、使用-iframe-form-进行跨域请求"><a href="#二、使用-iframe-form-进行跨域请求" class="headerlink" title="二、使用 iframe + form 进行跨域请求"></a>二、使用 iframe + form 进行跨域请求</h2><h3 id="实现方式-1"><a href="#实现方式-1" class="headerlink" title="实现方式"></a>实现方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">const requestPost &#x3D; (&#123;url, data&#125;) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; 首先创建一个用来发送数据的iframe.</span><br><span class="line">  const iframe &#x3D; document.createElement(&#39;iframe&#39;)</span><br><span class="line">  iframe.name &#x3D; &#39;postAjax&#39;</span><br><span class="line">  iframe.style.display &#x3D; &#39;none&#39;</span><br><span class="line">  document.body.appendChild(iframe)</span><br><span class="line">  const form &#x3D; document.createElement(&#39;form&#39;)</span><br><span class="line">  const node &#x3D; document.createElement(&#39;input&#39;)</span><br><span class="line">  &#x2F;&#x2F; 注册iframe的load事件处理程序,如果你需要在响应返回时执行一些操作的话.</span><br><span class="line">  iframe.addEventListener(&#39;load&#39;, function () &#123;</span><br><span class="line">    console.log(&#39;post success&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  form.action &#x3D; url</span><br><span class="line">  &#x2F;&#x2F; 在指定的iframe中执行form</span><br><span class="line">  form.target &#x3D; iframe.name</span><br><span class="line">  form.method &#x3D; &#39;post&#39;</span><br><span class="line">  for (let name in data) &#123;</span><br><span class="line">    node.name &#x3D; name</span><br><span class="line">    node.value &#x3D; data[name].toString()</span><br><span class="line">    form.appendChild(node.cloneNode())</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; 表单元素需要添加到主文档中.</span><br><span class="line">  form.style.display &#x3D; &#39;none&#39;</span><br><span class="line">  document.body.appendChild(form)</span><br><span class="line">  form.submit()</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 表单提交后,就可以删除这个表单,不影响下次的数据发送.</span><br><span class="line">  document.body.removeChild(form)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 使用方式</span><br><span class="line">requestPost(&#123;</span><br><span class="line">  url: &#39;http:&#x2F;&#x2F;www.xxx.com&#x2F;api&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg: &#39;xxxx&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="三、CORS-跨域资源共享-Cross-origin-resource-sharing-进行跨域请求"><a href="#三、CORS-跨域资源共享-Cross-origin-resource-sharing-进行跨域请求" class="headerlink" title="三、CORS(跨域资源共享 Cross-origin resource sharing)进行跨域请求"></a>三、CORS(跨域资源共享 Cross-origin resource sharing)进行跨域请求</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul>
<li>简单请求<ul>
<li>请求方法是以下几种: GET、POST、HEAD</li>
<li>HTTP头信息是以下几种: Accept、Accept-Language、Content-Language、Last-Event-ID、Content-Type ( 只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain )</li>
</ul>
</li>
<li>非简单请求<ul>
<li>除去简单请求之外的请求</li>
</ul>
</li>
</ul>
<h3 id="实现方式-2"><a href="#实现方式-2" class="headerlink" title="实现方式"></a>实现方式</h3><ul>
<li><code>CORS</code> 需要浏览器和后端同时支持</li>
<li>需要服务端设置 <code>Access-Control-Allow-Origin</code> 就可以开启 <code>CORS</code></li>
</ul>
<h3 id="CORS-简单请求"><a href="#CORS-简单请求" class="headerlink" title="CORS 简单请求"></a>CORS 简单请求</h3><ul>
<li>服务端配置好的前提下，简单请求直接请求就可以</li>
</ul>
<h3 id="CORS-非简单请求"><a href="#CORS-非简单请求" class="headerlink" title="CORS 非简单请求"></a>CORS 非简单请求</h3><ul>
<li>非简单请求在请求时会发送两次请求<ul>
<li>第一次是预检测请求，返回的状态码为204</li>
<li>第二次请求为预检测请求通过后才会发送真实请求</li>
</ul>
</li>
</ul>
<h2 id="四、利用服务器中转"><a href="#四、利用服务器中转" class="headerlink" title="四、利用服务器中转"></a>四、利用服务器中转</h2><h3 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h3><ul>
<li>因为同源策略是针对客户端的，在服务器端没有什么同源策略，是可以随便访问的</li>
</ul>
<h3 id="实现方式-3"><a href="#实现方式-3" class="headerlink" title="实现方式"></a>实现方式</h3><ul>
<li>客户端先访问 同源的服务端代码，该同源的服务端代码，使用httpclient等方法，再去访问不同源的 服务端代码，然后将结果返回给客户端</li>
</ul>
<p>原文链接：<a href="https://github.com/programmer-zhang/front-end/blob/master/profiles/cross-origin.md" target="_blank" rel="noopener">https://github.com/programmer-zhang/front-end/blob/master/profiles/cross-origin.md</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/%E8%B7%A8%E5%9F%9F/" data-id="ckng1sct4000lu4uxg5os58jl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue路由传参" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/vue%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82/" class="article-date">
  <time datetime="2020-04-28T02:11:52.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/vue%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82/">vue路由传参</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="this-router-push跳转"><a href="#this-router-push跳转" class="headerlink" title="this.$router.push跳转"></a>this.$router.push跳转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">父组件中</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;parent&quot;&gt;</span><br><span class="line">        &lt;li v-for&#x3D;&quot;detailItem in detailList&quot; @click&#x3D;&quot;getDetail(detailItem.id)&quot;&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            msg:&quot;我是父组件&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        getDetail(id) &#123;</span><br><span class="line">            this.$router.push(&#123;&#x2F;&#x2F;直接调用$router.push 实现携带参数的跳转</span><br><span class="line">              path: &#96;&#x2F;detail&#x2F;$&#123;id&#125;&#96;,</span><br><span class="line">        	&#125;)</span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">对应路由配置：</span><br><span class="line">router&#x2F;index.js</span><br><span class="line">const routes &#x3D; [&#123;</span><br><span class="line">     path: &#39;&#x2F;detail&#x2F;:id&#39;,</span><br><span class="line">     name: &#39;detail&#39;,</span><br><span class="line">     component: detail</span><br><span class="line">&#125;]</span><br><span class="line"></span><br><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  base: process.env.BASE_URL,</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line">export default router;</span><br><span class="line"></span><br><span class="line">对应子组件：</span><br><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure>

<h5 id="父组件中：通过路由属性中的name来确定匹配的路由，通过params来传递参数。"><a href="#父组件中：通过路由属性中的name来确定匹配的路由，通过params来传递参数。" class="headerlink" title="父组件中：通过路由属性中的name来确定匹配的路由，通过params来传递参数。"></a>父组件中：通过路由属性中的name来确定匹配的路由，通过params来传递参数。</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">父组件中</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">     name: &#39;detail&#39;,</span><br><span class="line">     params: &#123;</span><br><span class="line">          id: id</span><br><span class="line">     &#125;</span><br><span class="line">&#125;)</span><br><span class="line">对应路由配置：</span><br><span class="line">&#123;</span><br><span class="line">  path: &#39;&#x2F;describe&#39;,</span><br><span class="line">  name: &#39;detail&#39;,</span><br><span class="line">  component: detail</span><br><span class="line">&#125;</span><br><span class="line">对应子组件:</span><br><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure>

<h5 id="父组件：使用path来匹配路由，然后通过query来传递参数这种情况下-query传递的参数会显示在url后面-id-？"><a href="#父组件：使用path来匹配路由，然后通过query来传递参数这种情况下-query传递的参数会显示在url后面-id-？" class="headerlink" title="父组件：使用path来匹配路由，然后通过query来传递参数这种情况下 query传递的参数会显示在url后面?id=？"></a>父组件：使用path来匹配路由，然后通过query来传递参数这种情况下 query传递的参数会显示在url后面?id=？</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">父组件中</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">  path: &#39;&#x2F;detail&#39;,</span><br><span class="line">  query: &#123;</span><br><span class="line">    id: id</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">对应路由配置：</span><br><span class="line">&#123;</span><br><span class="line">  path: &#39;&#x2F;detail&#39;,</span><br><span class="line">    name: &#39;detail&#39;,</span><br><span class="line">      component: detail</span><br><span class="line">&#125;</span><br><span class="line">对应子组件: </span><br><span class="line">this.$route.query.id</span><br></pre></td></tr></table></figure>

<h5 id="params传参和query传参的差别："><a href="#params传参和query传参的差别：" class="headerlink" title="params传参和query传参的差别："></a>params传参和query传参的差别：</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.用法 ：query要用path来引入，params要用name来引入，接收参数都是类似的，</span><br><span class="line">分别是this.$route.query.name和this.$route.params.name</span><br><span class="line">(注意接收参数的时候，是$route而不是$router)</span><br><span class="line">2.显示 ：query类似于ajax中get传参，params则类似于post，通俗的讲：</span><br><span class="line">前者在浏览器地址栏中显示参数，后者则不显示。</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/vue%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82/" data-id="ckng1scsf000au4uxech2haih" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue组件之间传值" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/28/vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E4%BC%A0%E5%80%BC/" class="article-date">
  <time datetime="2020-04-28T01:21:48.000Z" itemprop="datePublished">2020-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/28/vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E4%BC%A0%E5%80%BC/">vue组件之间传值</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="父组件-gt-子组件"><a href="#父组件-gt-子组件" class="headerlink" title="父组件=&gt;子组件"></a>父组件=&gt;子组件</h2><h4 id="父组件"><a href="#父组件" class="headerlink" title="父组件"></a>父组件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;parentCom&quot;&gt;</span><br><span class="line">        &lt;child :childUsed&#x3D;&quot;parentUsed&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            parentUsed:[</span><br><span class="line">                &#123;id:1,text:&quot;文本1&quot;&#125;,</span><br><span class="line">                &#123;id:2,text:&quot;文本2&quot;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="子组件"><a href="#子组件" class="headerlink" title="子组件"></a>子组件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;childCom&quot;&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">        	&lt;li v-for&#x3D;&quot;item in childUsed&quot; :key&#x3D;&quot;item.id&quot;&gt;&#123;&#123;item.text&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	props:[&quot;childUsed&quot;],</span><br><span class="line">	data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="子组件-gt-父组件"><a href="#子组件-gt-父组件" class="headerlink" title="子组件=&gt;父组件"></a>子组件=&gt;父组件</h2><h4 id="子组件-1"><a href="#子组件-1" class="headerlink" title="子组件"></a>子组件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;childCom1&quot;&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;childMethod&quot;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            msg:&quot;我是子组件的数据&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        childMethod()&#123;</span><br><span class="line">            this.$emit(&quot;func&quot;,this.msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="父组件-1"><a href="#父组件-1" class="headerlink" title="父组件"></a>父组件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;parentCom1&quot;&gt;</span><br><span class="line">        &lt;button @func&#x3D;&quot;getChildMsg&quot;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">	data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            parentMsg:&quot;我是父组件的数据&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        getChildMsg(val)&#123;</span><br><span class="line">            this.parentMsg &#x3D; val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/28/vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E4%BC%A0%E5%80%BC/" data-id="ckng1scsh000bu4ux80l2g4gu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/13/vueBasicKnowledge/">vueBasicKnowledge</a>
          </li>
        
          <li>
            <a href="/2020/05/12/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8git%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6/">如何使用git上传本地文件</a>
          </li>
        
          <li>
            <a href="/2020/05/12/vuex%E9%85%8D%E5%90%88axios%E7%9A%84%E4%BD%BF%E7%94%A8/">vuex配合axios的使用</a>
          </li>
        
          <li>
            <a href="/2020/05/08/%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81/">函数节流</a>
          </li>
        
          <li>
            <a href="/2020/05/08/%E9%97%AD%E5%8C%85/">闭包</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Mr Zhang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>